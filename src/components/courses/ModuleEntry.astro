---
const { url, title, description, icon, lessonCount } = Astro.props;
import Text from "@/components/fundations/elements/Text.astro";
import { ICONS, type IconName } from "./icons";

const iconSvg = icon && ICONS[icon as IconName];
---
<a href={url} title={title} class="group block border border-black/10 dark:border-white/10 rounded-xl transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-lg">
  <div class="p-8 bg-backgroundLight dark:bg-black rounded-xl h-full flex flex-row items-start gap-6"> {/* Removed hover effects from inner div */}
    {iconSvg && (
      <div class="flex-shrink-0 h-12 w-12 text-borderAlt dark:text-borderAlt mt-1" set:html={iconSvg} />
    )}
    <div class="flex flex-col flex-grow justify-between h-full">
      <div>
        <Text
          tag="h3"
        variant="textXl"
        class="text-[#222222] dark:text-white font-medium group-hover:text-black/70 dark:group-hover:text-white/70 leading-tight mb-2"
      >
        {title}
      </Text>
      {description && (
        <Text
          tag="p"
          variant="textSM"
          class="text-borderAlt dark:text-borderAlt mb-2 line-clamp-2"
        >
          {description}
        </Text>
      )}
      {lessonCount !== undefined && (
        <Text
          tag="p"
          variant="textXS"
          class="text-borderAlt dark:text-borderAlt"
        >
          {lessonCount} {lessonCount === 1 ? 'lesson' : 'lessons'}
        </Text>
      )}
    </div>
    <Text
      tag="span"
      variant="textSM"
      class="mt-6 text-accent dark:text-accent group-hover:underline self-start"
    >
      View Module &rarr;
    </Text>
  </div>
</a>